## GitHub Copilot로 레거시 프로젝트 업그레이드하기

이 워크숍에서는 레거시(구버전) Python 애플리케이션을 최신 Python 버전으로 업그레이드하는 과정을 GitHub Copilot의 도움을 받아 단계별로 진행합니다.

> [!NOTE]
> 이 저장소는 **GitHub Copilot**의 다양한 기능(**Copilot Chat**, **인라인 채팅**)을 소개하기 위한 예제입니다. 아래 단계별 가이드에는 필요한 작업의 일반적인 설명이 포함되어 있으며, Copilot Chat 또는 인라인 채팅이 필요한 명령어 생성을 지원합니다.
>
> 각 단계(해당되는 경우)에는 Copilot 제안 결과를 검증할 수 있는 `Cheatsheet`도 포함되어 있습니다.
>
> 💡 다양한 프롬프트로 실험해 보세요. 인라인 채팅에서는 추가 프롬프트로 응답을 더 정교하게 만들 수 있습니다.

## 워크숍 주요 내용

이 워크숍에서는 Python 2.5를 사용하던 레거시 애플리케이션을 다룹니다. 주요 특징은 다음과 같습니다:

1. 모든 의존성은 미리 설치되어 있지만, 레거시 애플리케이션은 구버전 Python을 사용합니다.
2. Sqlite3와 구식 Python 문법을 사용하고 있어 최신 문법으로의 변환이 필요합니다.
3. 문서화가 잘 되어 있어 기능 테스트에 활용할 수 있습니다.
4. 유닛 테스트와 기능 테스트가 모두 포함되어 있습니다.

### 1. 에이전트로 프로젝트 구조 탐색
- `@workspace` 에이전트를 사용해 프로젝트 구조와 동작 방식을 설명받으세요.
- GitHub Copilot Chat에서 프롬프트 앞에 `@workspace`를 붙여 질문합니다.
- 예시: "이 프로젝트는 어떻게 의존성을 설치하나요?"

### 2. 레거시 코드와 포팅 문제 파악
- Python 애플리케이션의 테스트를 실행해 봅니다. 사전 설치된 `pytest`를 사용하세요.
- 예시: `@workspace 이 코드를 최신 Python으로 포팅할 때 예상되는 문제는?`
- 가상환경에서 의존성 설치를 시도해 보세요.

> [!NOTE]
> 왜 설치가 실패할 수 있나요? 레거시 Python에서 사용하는 `distribute`는 더 이상 지원되지 않습니다. Copilot에게 대체 설치 방법을 물어보세요.

### 3. 코드를 upgraded 디렉터리로 복사
- 코드를 `upgraded` 디렉터리로 복사해 포팅 작업을 시작합니다.
- 기능 테스트를 활용해 집중할 기능의 "슬라이스"를 결정하세요.

> [!NOTE]
> LLM이 모든 비즈니스 로직을 정확히 설명하지 못할 수 있습니다. 문서와 코드를 함께 참고하세요.

### 4. 프로젝트 설치
- 가상환경을 만들고 프로젝트를 설치합니다. `python setup.py develop` 명령을 시도해보고, 발생하는 오류를 Copilot에 문의하세요.
- 오류 메시지와 함께 Copilot Chat에 질문하면 해결책을 제안받을 수 있습니다.

### 5. 테스트 실행
- `pytest`로 유닛 테스트를 실행하고, 오류가 발생하면 Copilot에 질문해 원인과 해결책을 찾으세요.
- 오류 출력을 Copilot에 붙여넣고 추가 설명을 요청하세요.

> [!NOTE]
> 오류가 직관적이지 않을 수 있습니다. Python 버전이 오래되었음을 Copilot에 힌트로 제공하면 더 나은 답변을 얻을 수 있습니다.

### 6. try/except 오류 수정
- 기능 테스트를 통해 집중할 기능을 정하고, Copilot의 도움을 받아 try/except 관련 오류를 수정하세요.
- 모든 try/except 오류가 해결될 때까지 테스트를 반복 실행하세요.

> [!NOTE]
> 예외 처리 외에도 다양한 오류가 있을 수 있습니다. try/except 오류를 모두 해결한 후 다음 단계로 넘어가세요.

### 7. ConfigParser 문제 해결
- `ConfigParser` 관련 오류가 발생하면 Copilot에 해결 전략을 요청하세요.
- 예시: "이 프로젝트는 Python 2.5로 작성되었고, Python 3.9에서 다음과 같은 오류가 발생합니다: ..."
- 제안된 해결책을 적용하고 테스트를 실행해 수정이 올바른지 확인하세요.

> [!NOTE]
> 모든 테스트가 통과해야 합니다. 실패 시 Copilot에 추가 질문을 하세요.

### 8. 테스트를 Pytest로 포팅
- 레거시 코드는 `unittest`를 사용합니다. 모든 테스트를 `pytest` 스타일로 변환하고 실행해 보세요.
